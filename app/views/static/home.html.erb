<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "name": "<%= TeSS::Config.site['title_short'] -%>",
  "alternateName": "<%= TeSS::Config.site['title'] -%>",
  "url": "<%= root_url %>",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "<%= search_url(q: 'QUERY').sub('QUERY', '{search_term_string}') -%>",
    "query-input": "required name=search_term_string"
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "url": "<%= root_url -%>",
  "logo": "<%= image_url TeSS::Config.site['logo'] -%>"
}
</script>

<%= render partial: 'communities/banner' if TeSS::Config.site.dig('home_page', 'communities') %>

<%= render partial: 'static/home/welcome' %>

<%= render partial: 'static/home/catalogue_blocks' if TeSS::Config.site.dig('home_page', 'catalogue_blocks') %>

<%= render partial: 'static/home/provider_carousel' if TeSS::Config.site.dig('home_page', 'provider_carousel') %>

<%= render partial: 'static/home/faq' if TeSS::Config.site.dig('home_page', 'faq')&.any? %>

<%= render partial: 'static/home/promo_blocks' if TeSS::Config.site.dig('home_page', 'promo_blocks') %>

<% cache(['home', 'upcoming_events', @events]) do %>
  <%= render partial: 'static/home/upcoming_events' %>
<% end if @events.present? %>

<% cache(['home', 'latest_materials', @materials]) do %>
  <%= render partial: 'static/home/latest_materials' %>
<% end if @materials.present? %>

<% cache(['home', 'featured_trainer', @featured_trainer]) do %>
  <%= render partial: 'static/home/featured_trainer' %>
<% end if @featured_trainer.present? %>
